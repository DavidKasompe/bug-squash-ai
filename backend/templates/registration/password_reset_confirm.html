{% extends 'base.html' %} {% block title %}Set New Password{% endblock %} {%
block content %}
<div
  style="
    max-width: 500px;
    margin: 50px auto;
    padding: 20px;
    border: 1px solid #ddd;
    border-radius: 8px;
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
    font-family: sans-serif;
  "
>
  {% if validlink %}
  <h2 style="text-align: center; color: #333">Set a New Password</h2>
  <p style="text-align: center; color: #666; margin-bottom: 20px">
    Please enter your new password twice so we can verify you typed it
    correctly.
  </p>

  <form method="post" style="display: flex; flex-direction: column; gap: 15px">
    {% csrf_token %} {{ form.as_p }}
    <button
      type="submit"
      style="
        padding: 10px 15px;
        background-color: #007bff;
        color: white;
        border: none;
        border-radius: 5px;
        cursor: pointer;
        font-size: 16px;
      "
    >
      Set password
    </button>
  </form>

  {% if form.errors %}
  <ul style="color: red; list-style-type: none; padding: 0; margin-top: 15px">
    {% for field in form %} {% if field.errors %} {% for error in field.errors
    %}
    <li>{{ error }}</li>
    {% endfor %} {% endif %} {% endfor %} {% for error in form.non_field_errors
    %}
    <li>{{ error }}</li>
    {% endfor %}
  </ul>
  {% endif %} {% else %}
  <h2 style="text-align: center; color: #333">Password Reset Failed</h2>
  <p style="text-align: center; color: #666; margin-bottom: 20px">
    The password reset link was invalid, possibly because it has already been
    used. Please request a new password reset.
  </p>
  <div style="text-align: center">
    <a
      href="{% url 'password_reset' %}"
      style="color: #007bff; text-decoration: none"
      >Request a new password reset</a
    >
  </div>
  {% endif %}
</div>
{% endblock %}
